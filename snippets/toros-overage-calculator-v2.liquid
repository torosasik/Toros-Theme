{% comment %}
  Toros Overage Calculator V2 - MINIMAL TEST VERSION
  Triggered by product tag: 'overage-popup-v2'
  
  Parameters expected from render call:
  - product: the product object
  - section: the section object  
  - cart: the cart object
  - current_variant: the current variant
  - v2_box_area_clean: box area value
  - v2_tile_size: tile size
  - v2_tiles_per_box: tiles per box
  - v2_max_qty: max quantity
{% endcomment %}

<script>
console.log('üö®üö®üö® TOROS V2 MINIMAL TEST: Script block is executing!');
console.log('üö® CURRENT URL:', window.location.href);
console.log('üö® PRODUCT EXISTS:', typeof window !== 'undefined');
console.log('üö® PARAMETERS RECEIVED:');
console.log('   - product:', {{ product.title | json }});
console.log('   - section.id:', '{{ section.id }}');
console.log('   - current_variant:', {{ current_variant.id | json }});
console.log('   - v2_box_area_clean:', '{{ v2_box_area_clean }}');
console.log('   - v2_tile_size:', '{{ v2_tile_size }}');
console.log('   - v2_tiles_per_box:', '{{ v2_tiles_per_box }}');
console.log('   - v2_max_qty:', '{{ v2_max_qty }}');
</script>

{% if product.tags contains 'overage-popup-v2' %}
<script>
console.log('‚úÖ‚úÖ‚úÖ TOROS V2 MINIMAL TEST: TAG CONDITION PASSED!');
console.log('‚úÖ PRODUCT TITLE:', '{{ product.title | escape }}');
console.log('‚úÖ PRODUCT TAGS:', '{{ product.tags | join: ", " }}');
</script>

<div id="toros-v2-test-element" style="position: fixed; top: 20px; right: 20px; background: red; color: white; padding: 10px; z-index: 9999; font-size: 14px; border-radius: 5px; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">
  ‚úÖ V2 LOADED SUCCESSFULLY<br>
  Product: {{ product.title | truncate: 20 }}<br>
  Section: {{ section.id }}<br>
  Box Area: {{ v2_box_area_clean }}
</div>

{% else %}
<script>
console.log('‚ùå‚ùå‚ùå TOROS V2 MINIMAL TEST: TAG CONDITION FAILED!');
console.log('‚ùå PRODUCT TAGS:', '{{ product.tags | join: ", " }}');
</script>

<div id="toros-v2-test-element" style="position: fixed; top: 20px; right: 20px; background: orange; color: white; padding: 10px; z-index: 9999; font-size: 14px; border-radius: 5px; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">
  ‚ö†Ô∏è V2 LOADED BUT NO TAG<br>
  Product: {{ product.title | truncate: 20 }}<br>
  Tags: {{ product.tags | join: ", " | truncate: 30 }}
</div>

{% endif %}